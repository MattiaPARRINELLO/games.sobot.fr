var library = { //library of images
    pokemon: [
      'https://res.cloudinary.com/beumsk/image/upload/v1547980025/memory/Pokemon/Bulbasaur.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980083/memory/Pokemon/Charmander.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980101/memory/Pokemon/Squirtle.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980116/memory/Pokemon/Pikachu.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980129/memory/Pokemon/Mewtwo.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980142/memory/Pokemon/Mew.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980154/memory/Pokemon/Articuno.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980164/memory/Pokemon/Zapdos.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980175/memory/Pokemon/Moltres.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980186/memory/Pokemon/Eevee.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980025/memory/Pokemon/Bulbasaur.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980083/memory/Pokemon/Charmander.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980101/memory/Pokemon/Squirtle.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980116/memory/Pokemon/Pikachu.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980129/memory/Pokemon/Mewtwo.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980142/memory/Pokemon/Mew.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980154/memory/Pokemon/Articuno.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980164/memory/Pokemon/Zapdos.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980175/memory/Pokemon/Moltres.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980186/memory/Pokemon/Eevee.png'
    ],
    starwars: [
      'https://res.cloudinary.com/beumsk/image/upload/v1547980981/memory/starwars/anakin%20skywalker.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981009/memory/starwars/luke%20skywalker.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981022/memory/starwars/Obi%20wann.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981054/memory/starwars/Han%20solo.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981074/memory/starwars/chewbacca.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981095/memory/starwars/yoda.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981117/memory/starwars/dark%20sidious.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981141/memory/starwars/dark%20vador.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981165/memory/starwars/padme.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981190/memory/starwars/leia.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547980981/memory/starwars/anakin%20skywalker.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981009/memory/starwars/luke%20skywalker.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981022/memory/starwars/Obi%20wann.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981054/memory/starwars/Han%20solo.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981074/memory/starwars/chewbacca.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981095/memory/starwars/yoda.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981117/memory/starwars/dark%20sidious.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981141/memory/starwars/dark%20vador.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981165/memory/starwars/padme.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981190/memory/starwars/leia.jpg'
    ],
    lotr: [
      'https://res.cloudinary.com/beumsk/image/upload/v1547981408/memory/lotr/gandalf.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981438/memory/lotr/sauron.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981469/memory/lotr/Aragorn.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981501/memory/lotr/legolas.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981535/memory/lotr/Gimli.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981603/memory/lotr/golum.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981645/memory/lotr/sam.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981686/memory/lotr/saroumane.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981738/memory/lotr/bilbo.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981802/memory/lotr/frodo.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981408/memory/lotr/gandalf.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981438/memory/lotr/sauron.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981469/memory/lotr/Aragorn.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981501/memory/lotr/legolas.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981535/memory/lotr/Gimli.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981603/memory/lotr/golum.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981645/memory/lotr/sam.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981686/memory/lotr/saroumane.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981738/memory/lotr/bilbo.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547981802/memory/lotr/frodo.jpg'
    ],
    disney: [
      'https://res.cloudinary.com/beumsk/image/upload/v1547982044/memory/disney/mickey.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982088/memory/disney/mowgli.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982610/memory/disney/tarzan.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982620/memory/disney/simba.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982628/memory/disney/aladin.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982636/memory/disney/blanche%20neige.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982644/memory/disney/alice.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982653/memory/disney/peter%20pan.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982663/memory/disney/pinocchio.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982738/memory/disney/raiponce.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982044/memory/disney/mickey.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982088/memory/disney/mowgli.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982610/memory/disney/tarzan.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982620/memory/disney/simba.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982628/memory/disney/aladin.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982636/memory/disney/blanche%20neige.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982644/memory/disney/alice.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982653/memory/disney/peter%20pan.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982663/memory/disney/pinocchio.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982738/memory/disney/raiponce.jpg'
    ],
    pixar: [
      'https://res.cloudinary.com/beumsk/image/upload/v1547982971/memory/pixar/up.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982987/memory/pixar/buzz.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983000/memory/pixar/woody.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983016/memory/pixar/Remy.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983032/memory/pixar/Mike.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983077/memory/pixar/Nemo.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983114/memory/pixar/wall-e.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983169/memory/pixar/Mr-Incredible.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983381/memory/pixar/sully.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983403/memory/pixar/flash%20mcqueen.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982971/memory/pixar/up.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547982987/memory/pixar/buzz.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983000/memory/pixar/woody.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983016/memory/pixar/Remy.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983032/memory/pixar/Mike.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983077/memory/pixar/Nemo.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983114/memory/pixar/wall-e.png',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983169/memory/pixar/Mr-Incredible.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983381/memory/pixar/sully.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547983403/memory/pixar/flash%20mcqueen.jpg'
    ],
    harrypotter: [
      'https://res.cloudinary.com/beumsk/image/upload/v1547998926/memory/harrypotter/harry.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547998958/memory/harrypotter/ron.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547998992/memory/harrypotter/hermione.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999106/memory/harrypotter/dumbledore.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999032/memory/harrypotter/malfoy.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999143/memory/harrypotter/voldemort.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999401/memory/harrypotter/rogue.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999196/memory/harrypotter/hagrid.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999271/memory/harrypotter/sirius.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999577/memory/harrypotter/neville.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547998926/memory/harrypotter/harry.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547998958/memory/harrypotter/ron.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547998992/memory/harrypotter/hermione.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999106/memory/harrypotter/dumbledore.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999032/memory/harrypotter/malfoy.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999143/memory/harrypotter/voldemort.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999401/memory/harrypotter/rogue.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999196/memory/harrypotter/hagrid.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999271/memory/harrypotter/sirius.jpg',
      'https://res.cloudinary.com/beumsk/image/upload/v1547999577/memory/harrypotter/neville.jpg'
    ]
  }
  var images = []; // array of images
  var tempElt1 = "";  // first image
  var tempElt2 = ""; // second image
  var click = -1; // click counter
  var win = 0; // win counter
  var score = 0; // score counter
  var time = 0; // time counter
  var preElt = document.querySelector("#pre"); // pre element
  var themesElt = document.querySelector("#themes"); // themes element
  var boxElts = document.getElementsByClassName("box"); // box elements
  var mainElt = document.querySelector(".main"); // main element
  var timeElt = document.querySelector("#time"); // time element
  var scoreElt = document.querySelector("#score"); // score element
  var postElt = document.querySelector("#post"); // post element
  var finalElt = document.querySelector("#final"); // final element
  var againElt = document.querySelector("#again"); // again element
  themesElt.addEventListener("click", function(e) { // click on themes
    if (e.target.classList.contains("themes")) { // if the target is a theme
      activateTheme(e.target.id); // activate the theme
      preElt.classList.add("hidden"); // hide the pre element
    }
  });
  function activateTheme(theme) { // activate theme
    for (let i = 0; i < 20; i++) {images.push(library[theme][i]);}  // push images 
    for (let i = 0; i < 20; i++) { // for each box
      var rand = Math.floor(Math.random() * (images.length - 1)); // random number
      boxElts[i].innerHTML = "<img src='" + images[rand] + "' alt='image' class='hidden'> "; // set the image
      images.splice(rand, 1); // remove the image
    }
  }
  mainElt.addEventListener("click", gameLogic); // click on main
  function gameLogic(e) { // game logic
    if (e.target.classList.contains("play")) { // if the target is a play button
      e.target.firstChild.classList.remove("hidden"); // show the image
      if (click < 1) { // if the click is less than 1
        tempElt1 = e.target; // set the first image
        if (click === -1) { // if the click is -1
          timer = setInterval(function() { // set the timer
            time++; // add 1 to time
            timeElt.innerHTML = time; // set the time element
          }, 1000);  // every second
        }
        click = 1;  // set the click to 1
      }
      else if (e.target !== tempElt1) { // if the target is not the first image
        tempElt2 = e.target; // set the second image
        if (tempElt1.firstChild.src !== tempElt2.firstChild.src) { // if the images are different
          mainElt.removeEventListener("click", gameLogic); // remove the event listener
          setTimeout( function() { // set the timeout
            tempElt1.firstChild.classList.add("hidden"); // hide the first image
            tempElt2.firstChild.classList.add("hidden"); // hide the second image
            mainElt.addEventListener("click", gameLogic); // add the event listener
          }, 400); // after 400ms
          if (score > 0) { // if the score is greater than 0
            score -= 2; // subtract 2 from the score
          } 
          scoreElt.innerHTML = score; // set the score element
        }
        else { // if the images are the same
          score += 10; // add 10 to the score
          win += 2; // add 2 to the win
          tempElt1.firstChild.classList.add("outlined"); // outline the first image
          tempElt2.firstChild.classList.add("outlined"); // outline the second image
          tempElt1.classList.remove("play"); // remove the play class
          tempElt2.classList.remove("play"); // remove the play class
          scoreElt.innerHTML = score; // set the score element
          if (win === 20) { // if the win is 20
            clearInterval(timer); // clear the timer
            finalElt.innerHTML = "You won " + score + " points <br> in " + time + " seconds"; // set the final element
            postElt.classList.remove("hidden"); // show the post element
          }
        }
        click = 0; // set the click to 0
      }
    }
  }
  againElt.addEventListener("click", resetGame); // click on again
  function resetGame() {  // reset game
    tempElt1 = ""; // set the first image
    tempElt2 = ""; // set the second image
    click = -1; // set the click to -1
    win = 0; // set the win to 0
    score = 0; // set the score to 0
    time = 0; // set the time to 0
    postElt.classList.add("hidden"); // hide the post element
    preElt.classList.remove("hidden"); // show the pre element
    for (let i = 0; i < 20; i++) { // for each box
      boxElts[i].classList.add("play"); // add the play class
      boxElts[i].firstChild.classList.add("hidden"); // hide the image
    }
    timeElt.textContent = time; // set the time element
    scoreElt.textContent = score; // set the score element
  }